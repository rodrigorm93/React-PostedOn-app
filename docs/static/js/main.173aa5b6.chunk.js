(this["webpackJsonppost-app"]=this["webpackJsonppost-app"]||[]).push([[0],{159:function(e,t,a){e.exports=a(320)},164:function(e,t,a){},320:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(14),o=a.n(c),l=(a(164),a(165),a(166),a(7)),i=a.n(l),s=a(13),u=a(11),m=a(16),p=a(15),d=a(8),f=a(69),E=a.n(f);a(172),a(175);E.a.initializeApp({apiKey:"AIzaSyAU0BMvQdQRnYr4c5yK-defmq1238hBJx8",authDomain:"postedon-app.firebaseapp.com",databaseURL:"https://postedon-app.firebaseio.com",projectId:"postedon-app",storageBucket:"postedon-app.appspot.com",messagingSenderId:"46859479622",appId:"1:46859479622:web:f24e563e6506d3f2c5b847"});var b=E.a.firestore(),g=new E.a.auth.GoogleAuthProvider,h=a(40),v=a.n(h),O={login:"[Auth] Login",logout:"[Auth] Logout",uiSetError:"[UI] Set Error",uiRemoveError:"[UI] Remove Error",uiStartLoading:"[UI] Start loading",uiFinishLoading:"[UI] Finish loading",notesAddNew:"[Posts] New note",postsActive:"[Posts] Set active posts",postsDesactive:"[Posts] Set desactive posts",postsLoad:"[Posts] Load posts",notesUpdate:"[Posts] Update note",notesFileUrl:"[Posts] Update image url",postDelete:"[Posts] Delete Post",notesLogoutCleaning:"[Posts] Logout Cleaning",postUpCorrect:"[POST] msj de post subido correctamente",resetPagination:"[Pagination] indicar reinicio de la paginacion"},j=function(e){return{type:O.uiSetError,payload:e}},y=function(){return{type:O.uiFinishLoading}},w=function(e,t){return function(a){a({type:O.uiStartLoading}),E.a.auth().signInWithEmailAndPassword(e,t).then((function(e){var t=e.user;a(N(t.uid,t.displayName)),a(y())})).catch((function(e){console.log(e),a(y()),v.a.fire("Error",e.message,"error")}))}},N=function(e,t){return{type:O.login,payload:{uid:e,displayName:t}}},x=function(){return{type:O.logout}},k=a(75),C=a(9),_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(n.useState)(e),a=Object(u.a)(t,2),r=a[0],c=a[1],o=function(){c(e)},l=function(e){var t=e.target;c(Object(C.a)(Object(C.a)({},r),{},Object(k.a)({},t.name,t.value)))};return[r,l,o]},S=function(){var e=Object(d.b)(),t=Object(d.c)((function(e){return e.ui})).loading,a=Object(d.c)((function(e){return e.auth})).name,n=_({email:"nando@gmail.com",password:"123456"}),c=Object(u.a)(n,2),o=c[0],l=c[1],i=o.email,s=o.password;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"auth__main"},r.a.createElement("div",{className:"auth__box-container"},a&&r.a.createElement(p.a,{to:"/"}),r.a.createElement("h3",{className:"auth__title"},"Login"),r.a.createElement("form",{onSubmit:function(t){t.preventDefault(),e(w(i,s))}},r.a.createElement("input",{type:"text",placeholder:"Email",name:"email",className:"auth__input",autoComplete:"off",value:i,onChange:l}),r.a.createElement("input",{type:"password",placeholder:"Password",name:"password",className:"auth__input",value:s,onChange:l}),r.a.createElement("button",{type:"submit",className:"btn btn-primary btn-block",disabled:t},"Login"),r.a.createElement("div",{className:"auth__social-networks"},r.a.createElement("p",null,"Login with social networks"),r.a.createElement("div",{className:"google-btn",onClick:function(){e((function(e){E.a.auth().signInWithPopup(g).then((function(t){var a=t.user;e(N(a.uid,a.displayName))}))}))}},r.a.createElement("div",{className:"google-icon-wrapper"},r.a.createElement("img",{className:"google-icon",src:"https://upload.wikimedia.org/wikipedia/commons/5/53/Google_%22G%22_Logo.svg",alt:"google button"})),r.a.createElement("p",{className:"btn-text"},r.a.createElement("b",null,"Sign in with google")))),r.a.createElement(m.b,{to:"/register",className:"link"},"Create new account")))))},P=a(132),L=a.n(P),I=function(){var e=Object(d.b)(),t=Object(d.c)((function(e){return e.ui})).msgError,a=Object(d.c)((function(e){return e.auth})).name,n=_({name:"Hernando",email:"nando@gmail.com",password:"123456",password2:"123456"}),c=Object(u.a)(n,2),o=c[0],l=c[1],m=o.name,f=o.email,b=o.password,g=o.password2,h=function(){return 0===m.trim().length?(e(j("Name is required")),!1):L.a.isEmail(f)?b!==g||b.length<5?(e(j("Password should be at least 6 characters and match each other")),!1):(e({type:O.uiRemoveError}),!0):(e(j("Email is not valid")),!1)};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"auth__main"},r.a.createElement("div",{className:"auth__box-container"},a&&r.a.createElement(p.a,{to:"/"}),r.a.createElement("h3",{className:"auth__title"},"Register"),t&&r.a.createElement("div",{className:"auth__alert-error"},t),r.a.createElement("form",{onSubmit:function(t){t.preventDefault(),h()&&e(function(e,t,a){return function(n){E.a.auth().createUserWithEmailAndPassword(e,t).then(function(){var e=Object(s.a)(i.a.mark((function e(t){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.user,e.next=3,r.updateProfile({displayName:a});case 3:n(N(r.uid,r.displayName));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log(e),v.a.fire("Error",e.message,"error")}))}}(f,b,m))}},t&&r.a.createElement("div",{className:"auth__alert-error"},t),r.a.createElement("input",{type:"text",placeholder:"Name",name:"name",className:"auth__input",autoComplete:"off",value:m,onChange:l}),r.a.createElement("input",{type:"text",placeholder:"Email",name:"email",className:"auth__input",autoComplete:"off",value:f,onChange:l}),r.a.createElement("input",{type:"password",placeholder:"Password",name:"password",className:"auth__input",value:b,onChange:l}),r.a.createElement("input",{type:"password",placeholder:"Confirm password",name:"password2",className:"auth__input",value:g,onChange:l}),r.a.createElement("button",{type:"submit",className:"btn btn-primary btn-block mb-5"},"Register")))))},F=a(322),D=a(328),U=a(332),V=a(333),A=a(334),T=a(335),M=function(){var e=Object(d.b)(),t=Object(d.c)((function(e){return e.auth})).name,a=D.a.SubMenu,n=F.a.Header;return r.a.createElement(n,null,r.a.createElement("div",{className:"logo"}),r.a.createElement(D.a,{theme:"dark",mode:"horizontal"},r.a.createElement(D.a.Item,{key:"home",icon:r.a.createElement(U.a,null)},r.a.createElement(m.c,{activeClassName:"active",exact:!0,to:"/"},"Home")),r.a.createElement(D.a.Item,{key:"video",icon:r.a.createElement(V.a,null)},r.a.createElement(m.c,{activeClassName:"active",exact:!0,to:"/category/video"},"Videos")),r.a.createElement(D.a.Item,{key:"imagen",icon:r.a.createElement(A.a,null)},r.a.createElement(m.c,{activeClassName:"active",exact:!0,to:"/category/imagen"},"Imagenes")),t?r.a.createElement(a,{key:"user",icon:r.a.createElement(T.a,null),title:t,className:"sub-menu-user"},r.a.createElement(D.a.Item,{key:"addPost"},r.a.createElement(m.c,{activeClassName:"active",exact:!0,to:"/private/subirPost"},"Subir Post")),r.a.createElement(D.a.Item,{key:"viewPost"},r.a.createElement(m.c,{activeClassName:"active",exact:!0,to:"/private/viewPost"},"Ver Post")),r.a.createElement(D.a.Item,{key:"logout",onClick:function(){e(function(){var e=Object(s.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.auth().signOut();case 2:t(x());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}},"Logout")):r.a.createElement(D.a.Item,{key:"login",className:"sub-menu-user"},r.a.createElement(m.b,{to:"/login",className:"link"},"Login"))))},R=a(59),z=a.n(R),B=a(60),G=a.n(B),Y=a(327),H=function(e){var t=e.title,a=e.id,n=e.descripcion,c=e.url,o=e.urlVideoState,l=e.name,i=e.newDate;return r.a.createElement("div",{id:"cards_landscape_wrap-2"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",null,r.a.createElement(m.b,{to:"/detalle/".concat(a)},r.a.createElement("div",{className:"card-flyer"},r.a.createElement("div",{className:"text-box"},r.a.createElement("div",{className:"image-box"},o?r.a.createElement(G.a,{className:"react-player-home",url:o,controls:!0}):r.a.createElement("img",{className:"card-img-home",variant:"top",src:c,alt:l})),r.a.createElement("div",{className:"text-container"},r.a.createElement("div",{className:"footer-container"},r.a.createElement(Y.a,{size:40},l.substr(0,2).toUpperCase())),r.a.createElement("h6",null,t),r.a.createElement("p",null,n),r.a.createElement("p",null," ",i.format("MMM Do YY"))))))))))},J=function(e){var t=e.id,a=e.name,c=e.descripcion,o=e.title,l=e.date,i=e.urlVideo,s=e.url,m=z()(l),p=Object(n.useState)(null),d=Object(u.a)(p,2),f=d[0],E=d[1];return Object(n.useEffect)((function(){E("".concat(i))}),[i]),r.a.createElement(r.a.Fragment,null,r.a.createElement(H,{title:o,id:t,descripcion:c,url:s,urlVideoState:f,name:a,newDate:m}))},q=function(e){var t=[];return e.forEach((function(e){t.push(Object(C.a)({id:e.id},e.data()))})),t},W=function(){var e=Object(s.a)(i.a.mark((function e(t){var a,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.collection("/posts").get();case 2:return a=e.sent,n=[],a.forEach((function(e){e.data().user===t&&n.push(Object(C.a)({id:e.id},e.data()))})),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),K=function(){var e=Object(s.a)(i.a.mark((function e(t){var a,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.collection("/posts").get();case 2:return a=e.sent,n=[],a.forEach((function(e){e.data().category===t&&n.push(Object(C.a)({id:e.id},e.data()))})),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Q=function(){var e=Object(s.a)(i.a.mark((function e(t){var a,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.collection("/posts").get();case 2:return a=e.sent,n=[],a.forEach((function(e){e.id===t&&n.push(Object(C.a)({id:e.id},e.data()))})),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),X=function(){var e=Object(s.a)(i.a.mark((function e(t){var a,n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://api.cloudinary.com/v1_1/ddmzi0ccp/image/upload",(a=new FormData).append("upload_preset","reactJournal"),a.append("file",t),e.prev=4,e.next=7,fetch("https://api.cloudinary.com/v1_1/ddmzi0ccp/image/upload",{method:"POST",body:a});case 7:if(!(n=e.sent).ok){e.next=15;break}return e.next=11,n.json();case 11:return r=e.sent,e.abrupt("return",r.secure_url);case 15:return e.next=17,n.json();case 17:throw e.sent;case 18:e.next=23;break;case 20:throw e.prev=20,e.t0=e.catch(4),e.t0;case 23:case"end":return e.stop()}}),e,null,[[4,20]])})));return function(t){return e.apply(this,arguments)}}(),Z=function(e,t){return{type:O.postsActive,payload:Object(C.a)({id:e},t)}},$=function(e,t){return{type:O.postUpCorrect,payload:{id:e,msj:t}}},ee=function(){return{type:O.postsDesactive,payload:{}}},te=function(){return function(){var e=Object(s.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.collection("/posts");case 2:return a=e.sent,e.next=5,a.orderBy("date");case 5:e.sent.limit(4).get().then(function(){var e=Object(s.a)(i.a.mark((function e(a){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=t,e.next=3,le(q(a));case 3:e.t1=e.sent,(0,e.t0)(e.t1),t(ee());case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},ae=null,ne=null,re=function(e){return function(){var t=Object(s.a)(i.a.mark((function t(a){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,W(e);case 2:n=t.sent,a(le(n));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},ce=function(e){return function(){var t=Object(s.a)(i.a.mark((function t(a){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Q(e);case 2:n=t.sent,a(le(n));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},oe=function(e){return function(){var t=Object(s.a)(i.a.mark((function t(a){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,K(e);case 2:n=t.sent,a(le(n));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},le=function(e){return{type:O.postsLoad,payload:e}},ie=function(e){return function(){var t=Object(s.a)(i.a.mark((function t(a,n){var r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return v.a.fire({title:"Uploading...",text:"Please wait...",allowOutsideClick:!1,onBeforeOpen:function(){v.a.showLoading()}}),t.next=3,X(e);case 3:return r=t.sent,console.log(r),v.a.close(),t.abrupt("return",r);case 7:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()},se=function(e){return{type:O.postDelete,payload:e}},ue=a(330),me=a(331),pe=a(99),de=a(336),fe=a(337),Ee=a(323),be=a(326),ge=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(be.a,{className:"carousels-app"},r.a.createElement(be.a.Item,null,r.a.createElement("img",{className:"d-block w-100",src:"https://www.talkwalker.com/images/2020/blog-headers/image-analysis.png",alt:"First slide"}),r.a.createElement(be.a.Caption,null,r.a.createElement("h3",null,"First slide label"),r.a.createElement("p",null,"Nulla vitae elit libero, a pharetra augue mollis interdum."))),r.a.createElement(be.a.Item,null,r.a.createElement("img",{className:"d-block w-100",src:"https://www.talkwalker.com/images/2020/blog-headers/image-analysis.png",alt:"Third slide"}),r.a.createElement(be.a.Caption,null,r.a.createElement("h3",null,"Second slide label"),r.a.createElement("p",null,"Lorem ipsum dolor sit amet, consectetur adipiscing elit."))),r.a.createElement(be.a.Item,null,r.a.createElement("img",{className:"d-block w-100",src:"https://www.talkwalker.com/images/2020/blog-headers/image-analysis.png",alt:"Third slide"}),r.a.createElement(be.a.Caption,null,r.a.createElement("h3",null,"Third slide label"),r.a.createElement("p",null,"Praesent commodo cursus magna, vel scelerisque nisl consectetur.")))))},he=function(){var e=Object(d.c)((function(e){return e.posts})).posts,t=Object(n.useState)(!0),a=Object(u.a)(t,2),c=a[0],o=a[1],l=Object(d.b)();Object(n.useEffect)((function(){function e(){return(e=Object(s.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l(te());case 2:o(!1);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[l]);return r.a.createElement(r.a.Fragment,null,c?r.a.createElement("div",{className:"spinner"},r.a.createElement(Ee.a,{animation:"border",variant:"info"})):r.a.createElement(r.a.Fragment,null,r.a.createElement(ue.a,{className:"row-card",justify:"space-around",gutter:[24,16],align:"middle"},r.a.createElement(me.a,{span:24},r.a.createElement(ge,null))),r.a.createElement(ue.a,{className:"row-card ",justify:"space-around",gutter:[24,16],align:"middle"},e.map((function(e){return r.a.createElement(me.a,{className:"col-post",key:e.id,span:9},r.a.createElement(J,Object.assign({},e,{key:e.id})))}))),r.a.createElement(ue.a,{className:"row-pagination",justify:"center"},r.a.createElement(me.a,{span:8,className:"col-pagination"},r.a.createElement(pe.a,{icon:r.a.createElement(de.a,null),onClick:function(){l((function(e){var t=b.collection("/posts").orderBy("date");t.endBefore(ae).limitToLast(4).get().then((function(a){ae=a.docs[0]||null,ne=a.docs[a.docs.length-1]||null,ae?e(le(q(a))):ae||t.limit(4).get().then((function(t){e(le(q(t)))}))}))}))}},"previous")),r.a.createElement(me.a,{className:"col-pagination"},r.a.createElement(pe.a,{icon:r.a.createElement(fe.a,null),onClick:function(){l((function(e){var t=b.collection("/posts"),a=t.orderBy("date").startAfter(ne),n=t.orderBy("date");a.limit(4).get().then((function(t){ae=t.docs[0]||null,(ne=t.docs[t.docs.length-1]||null)?e(le(q(t))):n.limit(4).get().then((function(t){e(le(q(t)))}))}))}))}},"next")))))},ve=a(66),Oe=function(){var e=Object(p.g)().categoryid,t=Object(d.c)((function(e){return e.posts})).posts,a=Object(d.b)(),c=Object(n.useState)(!0),o=Object(u.a)(c,2),l=o[0],m=o[1];return Object(n.useEffect)((function(){function t(){return(t=Object(s.a)(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a(oe(e));case 2:m(!1);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[a,e]),r.a.createElement(r.a.Fragment,null,l?r.a.createElement("div",{className:"spinner"},r.a.createElement(Ee.a,{animation:"border",variant:"success"})):r.a.createElement(r.a.Fragment,null,r.a.createElement(ue.a,{className:"row-card ",justify:"space-around",gutter:[24,16],align:"middle"},t.length>0?r.a.createElement(r.a.Fragment,null,t.map((function(e){return r.a.createElement(me.a,{className:"col-post",key:e.id,span:10},r.a.createElement(J,Object.assign({},e,{key:e.id})))}))):r.a.createElement(me.a,{className:"col-empty",span:24},r.a.createElement(ve.a,null))),r.a.createElement(ue.a,{className:"row-pagination",justify:"center"},r.a.createElement(me.a,{span:2}),r.a.createElement(me.a,{span:2}))))},je=a(329),ye=a(48),we=a.n(ye),Ne=function(e){var t=e.name,a=e.body,c=e.title,o=e.date,l=e.urlVideo,i=e.url,s=z()(o),m=Object(n.useState)(null),p=Object(u.a)(m,2),d=p[0],f=p[1];return Object(n.useEffect)((function(){f("".concat(l))}),[l]),r.a.createElement(r.a.Fragment,null,r.a.createElement(ue.a,{justify:"space-around",align:"middle",className:"row-container"},r.a.createElement(me.a,{span:15,className:"col-detail"},r.a.createElement(je.a,{className:"text-center card-box-container",bg:"light",text:"dark",border:"light"},r.a.createElement(je.a.Header,{className:"header-card"},r.a.createElement(Y.a,{size:40,className:"avatar-card"},t.substr(0,2).toUpperCase()),r.a.createElement(je.a.Title,{className:"title-card"},c),d?r.a.createElement(G.a,{className:"react-player",url:d,controls:!0}):r.a.createElement(je.a.Img,{className:"img-card",variant:"top",src:i})),r.a.createElement(we.a,{config:{language:"es",height:500,width:"100%"},readOnly:!0,data:a.data})),r.a.createElement("footer",{className:" footer-card"},s.format("MMM Do YY")))),r.a.createElement(ue.a,null))},xe=function(){var e=Object(d.c)((function(e){return e.posts})).posts,t=Object(p.g)().id,a=Object(d.b)(),c=Object(n.useState)(!0),o=Object(u.a)(c,2),l=o[0],m=o[1];return Object(n.useEffect)((function(){function e(){return(e=Object(s.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a(ce(t));case 2:m(!1);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[a,t]),console.log(t),r.a.createElement("div",null,l?r.a.createElement("div",{className:"spinner"},r.a.createElement(Ee.a,{animation:"border",variant:"info"})):r.a.createElement(r.a.Fragment,null,e.map((function(e){return r.a.createElement(Ne,Object.assign({key:e.id},e))}))))};function ke(){var e=F.a.Footer;return r.a.createElement(e,{className:"footer"},r.a.createElement("p",null,"Rodrigo Ramirez Mendez"),r.a.createElement("p",null,"Desarrollado con : React-Redux-sass-Firebase"))}var Ce=F.a.Content,_e=function(){return r.a.createElement(F.a,{className:"layout"},r.a.createElement(M,null),r.a.createElement(Ce,{className:"content-app"},r.a.createElement("div",{className:"site-layout-content"},r.a.createElement(p.d,null,r.a.createElement(p.b,{exact:!0,path:"/login",component:S}),r.a.createElement(p.b,{exact:!0,path:"/register",component:I}),r.a.createElement(p.b,{exact:!0,path:"/",component:he}),r.a.createElement(p.b,{exact:!0,path:"/category/:categoryid",component:Oe}),r.a.createElement(p.b,{exact:!0,path:"/detalle/:id",component:xe}),r.a.createElement(p.a,{to:"/"})))),r.a.createElement(ke,null))},Se=a(325),Pe=a(324),Le=a(338),Ie=function(){var e=Object(d.b)(),t=Object(d.c)((function(e){return e.auth})).name,a=Object(n.useState)(!1),c=Object(u.a)(a,2),o=c[0],l=c[1],m=Object(n.useState)("imagen"),p=Object(u.a)(m,2),f=p[0],E=p[1],g=Object(n.useState)("imagen"),h=Object(u.a)(g,2),O=h[0],j=h[1],y=Object(n.useState)({data:"hola"}),w=Object(u.a)(y,2),N=w[0],x=w[1],k=_({title:"",decripcion:"",urlVideo:""}),C=Object(u.a)(k,2),S=C[0],P=C[1],L=S.title,I=S.decripcion,F=S.urlVideo,D={onChange:function(e){var t=e.fileList[0].originFileObj;l(t)}};return r.a.createElement("div",{className:"post__main animate__animated animate__pulse"},r.a.createElement(ue.a,{justify:"space-around",align:"middle"},r.a.createElement(me.a,{span:20},r.a.createElement("h1",{className:"title-add-post"},"AddPost"),r.a.createElement(Se.a,{onSubmit:function(a){a.preventDefault(),e(function(e,t,a,n,r,c,o){return function(){var l=Object(s.a)(i.a.mark((function l(s,u){var m,p,d;return i.a.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:if(m=u().auth.uid,p="",!1===o){l.next=6;break}return l.next=5,s(ie(o));case 5:p=l.sent;case 6:return d={title:t,descripcion:n,body:a,date:(new Date).getTime(),url:p,urlVideo:r,category:c,name:e,user:m},l.next=9,b.collection("/posts").add(d).then((function(){v.a.fire("Saved",d.title,"success"),s($("Post subido Correctamente"))})).catch((function(e){s($(null)),v.a.fire("Error",e.message,"error")}));case 9:l.sent;case 10:case"end":return l.stop()}}),l)})));return function(e,t){return l.apply(this,arguments)}}()}(t,L,N,I,F,f,o))}},r.a.createElement(Se.a.Label,null,"Titulo:"),r.a.createElement(Se.a.Control,{size:"lg",type:"text",name:"title",placeholder:"title",value:L,onChange:P}),r.a.createElement(Se.a.Group,{controlId:"exampleForm.ControlTextarea1"},r.a.createElement(Se.a.Label,null,"Descripci\xf3n:"),r.a.createElement(Se.a.Control,{as:"textarea",rows:"2",name:"decripcion",value:I,onChange:P}),r.a.createElement("br",null),r.a.createElement(Se.a.Label,null,"Contenido:"),r.a.createElement(we.a,{data:N.data,onChange:function(e){x({data:e.editor.getData()})}})),r.a.createElement(Se.a.Label,null,"Categoria:"),r.a.createElement(Se.a.Control,{as:"select",className:"mr-sm-2",id:"inlineFormCustomSelect",onClick:function(e){E(e.target.value)},custom:!0},r.a.createElement("option",{value:"imagen"},"Imagen"),r.a.createElement("option",{value:"video"},"Video")),r.a.createElement("br",null)," ",r.a.createElement("br",null),r.a.createElement(Se.a.Label,null,"Opciones:"),r.a.createElement(Se.a.Control,{as:"select",className:"mr-sm-2",id:"inlineFormCustomSelect",custom:!0,onClick:function(e){j(e.target.value)}},r.a.createElement("option",{value:"imagen"},"Imagen"),r.a.createElement("option",{value:"video"},"Video")),r.a.createElement("br",null)," ",r.a.createElement("br",null),"imagen"===O?r.a.createElement(Pe.a,D,r.a.createElement(pe.a,{icon:r.a.createElement(Le.a,null)},"Click to Upload")):r.a.createElement(Se.a.Group,{controlId:"formGroupVideo"},r.a.createElement(Se.a.Label,null,"Url Video"),r.a.createElement(Se.a.Control,{type:"text",name:"urlVideo",value:F,onChange:P,placeholder:"Enter url video"})),r.a.createElement("div",{className:"container-button-submit"},r.a.createElement("button",{className:"button-submit",type:"submit"},"Guardar"))))))},Fe=a(339),De=a(340),Ue=function(e){var t=e.id,a=e.body,c=e.descripcion,o=e.title,l=e.date,p=e.urlVideo,f=e.url,E=Object(n.useState)(null),g=Object(u.a)(E,2),h=g[0],v=g[1],O=Object(d.c)((function(e){return e.auth})).uid,j=z()(l),y=Object(d.b)();Object(n.useEffect)((function(){v("".concat(p))}),[p]);return r.a.createElement(je.a,{className:"text-center"},r.a.createElement(je.a.Header,{className:"header-card"},r.a.createElement(je.a.Title,{className:"title-card"},o),h?r.a.createElement(G.a,{className:"react-detail",url:h,controls:!0}):r.a.createElement(je.a.Img,{className:"card-img-detail",variant:"top",src:f})),r.a.createElement(je.a.Body,null,r.a.createElement(we.a,{config:{language:"es"},readOnly:!0,data:a.data})),r.a.createElement(je.a.Footer,{className:"text-muted"},j.format("MMM Do YY"),r.a.createElement(m.b,{to:"/private/editPost",className:"icon-edit",onClick:function(){y(Z(t,{date:l,title:o,body:a,urlVideo:p,descripcion:c,url:f}))}},r.a.createElement(Fe.a,null)),r.a.createElement("div",{className:"icons-list btn-delete",onClick:function(){y(function(e){return function(){var t=Object(s.a)(i.a.mark((function t(a){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.doc("/posts/".concat(e)).delete();case 2:a(se(e));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t)),y(re(O))}},r.a.createElement(De.a,null))))},Ve=function(){var e=Object(d.c)((function(e){return e.posts})).posts,t=Object(d.c)((function(e){return e.auth})).uid,a=Object(d.b)(),c=Object(n.useState)(!0),o=Object(u.a)(c,2),l=o[0],m=o[1];return Object(n.useEffect)((function(){function e(){return(e=Object(s.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a(re(t));case 2:m(!1);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[a,t]),r.a.createElement("div",null,l?r.a.createElement("div",{className:"spinner"},r.a.createElement(Ee.a,{animation:"border",variant:"info"})):r.a.createElement(r.a.Fragment,null,e.map((function(e){return r.a.createElement(ue.a,{justify:"space-around",align:"middle"},r.a.createElement(me.a,{className:"col-post-myPost",key:e.id,span:12},r.a.createElement(Ue,Object.assign({key:e.id},e))))}))))},Ae=function(){var e=Object(d.b)(),t=Object(n.useState)(null),a=Object(u.a)(t,2),c=a[0],o=a[1],l=Object(d.c)((function(e){return e.posts})).active,m=_(l),p=Object(u.a)(m,2),f=p[0],E=p[1],g=f.title,h=f.body,O=f.descripcion,j=f.urlVideo,y=Object(n.useState)({data:h}),w=Object(u.a)(y,2),N=w[0],x=w[1];Object(n.useEffect)((function(){e(Z(f.id,Object(C.a)({},f)))}),[f,e]);return r.a.createElement("div",{className:"animate__animated animate__fadeIn"},r.a.createElement(ue.a,{justify:"space-around",align:"middle"},r.a.createElement(me.a,{span:20},r.a.createElement("h1",null,"EditPost"),r.a.createElement(Se.a,{onSubmit:function(t){t.preventDefault(),e(function(e,t,a){return function(){var n=Object(s.a)(i.a.mark((function n(r,c){var o,l;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(v.a.fire({title:"Actualizando...",text:"Please wait...",allowOutsideClick:!1,onBeforeOpen:function(){v.a.showLoading()}}),o="",!a){n.next=6;break}return n.next=5,r(ie(a));case 5:o=n.sent;case 6:return e.url=o,e.body=t,delete(l=Object(C.a)({},e)).id,n.next=12,b.doc("/posts/".concat(e.id)).update(l);case 12:v.a.close(),r(ee());case 14:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()}(l,N,c))}},r.a.createElement(Se.a.Control,{size:"lg",type:"text",name:"title",placeholder:"title",value:g,onChange:E}),r.a.createElement(Se.a.Group,{controlId:"exampleForm.ControlTextarea1"},r.a.createElement(Se.a.Label,null,"Descripci\xf3n"),r.a.createElement(Se.a.Control,{as:"textarea",rows:"3",name:"body",value:O,onChange:E})),r.a.createElement(we.a,{config:{language:"es"},onChange:function(e){x({data:e.editor.getData()})},data:N.data}),r.a.createElement(Se.a.Group,{controlId:"formGroupVideo"},r.a.createElement(Se.a.Label,null,"Url Video"),r.a.createElement(Se.a.Control,{type:"text",name:"urlVideo",value:j,onChange:E})),r.a.createElement("input",{id:"fileSelector",type:"file",onChange:function(e){var t=e.target.files[0];o(t)}}),r.a.createElement("button",{type:"submit"},"Guardar")))))},Te=F.a.Content,Me=function(){var e=Object(d.c)((function(e){return e.posts})),t=e.active,a=e.ok;return r.a.createElement(F.a,{className:"layout"},r.a.createElement(M,null),r.a.createElement(Te,{className:"site-layout",style:{padding:"0 10px",marginTop:20}},r.a.createElement(p.d,null,a?r.a.createElement(p.a,{to:"/"}):r.a.createElement(p.b,{exact:!0,path:"/private/subirPost",component:Ie}),r.a.createElement(p.b,{exact:!0,path:"/private/viewPost",component:Ve}),t?r.a.createElement(p.b,{exact:!0,path:"/private/editPost",component:Ae}):r.a.createElement(p.a,{to:"/"}))))},Re=a(150),ze=function(e){var t=e.isAuthenticated,a=e.component,n=Object(Re.a)(e,["isAuthenticated","component"]);return r.a.createElement(p.b,Object.assign({},n,{component:function(e){return t?r.a.createElement(a,e):r.a.createElement(p.a,{to:"/login"})}}))},Be=function(){var e=Object(d.b)(),t=Object(n.useState)(!0),a=Object(u.a)(t,2),c=a[0],o=a[1],l=Object(n.useState)(!1),f=Object(u.a)(l,2),b=f[0],g=f[1];return Object(n.useEffect)((function(){E.a.auth().onAuthStateChanged(function(){var t=Object(s.a)(i.a.mark((function t(a){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(null===a||void 0===a?void 0:a.uid)?(e(N(a.uid,a.displayName)),g(!0)):g(!1),o(!1);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}),[e,o,g]),c?r.a.createElement("div",{className:"spinner"},r.a.createElement(Ee.a,{animation:"border",variant:"info"})):r.a.createElement(m.a,null,r.a.createElement(p.d,null,r.a.createElement(ze,{isAuthenticated:b,path:"/private",component:Me}),r.a.createElement(p.b,{path:"/",component:_e})))},Ge=a(53),Ye=a(151),He=a(155),Je={posts:[],active:null,ok:null},qe={loading:!1,msgError:null},We="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Ge.d,Ke=Object(Ge.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O.login:return{uid:t.payload.uid,name:t.payload.displayName};case O.logout:return{};default:return e}},ui:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O.uiSetError:return Object(C.a)(Object(C.a)({},e),{},{msgError:t.payload});case O.uiRemoveError:return Object(C.a)(Object(C.a)({},e),{},{msgError:null});case O.uiStartLoading:return Object(C.a)(Object(C.a)({},e),{},{loading:!0});case O.uiFinishLoading:return Object(C.a)(Object(C.a)({},e),{},{loading:!1});default:return e}},posts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Je,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O.postsActive:return Object(C.a)(Object(C.a)({},e),{},{active:Object(C.a)({},t.payload)});case O.postsDesactive:return Object(C.a)(Object(C.a)({},e),{},{active:null,ok:null});case O.postUpCorrect:return Object(C.a)(Object(C.a)({},e),{},{active:null,ok:Object(C.a)({},t.payload)});case O.postsLoad:return Object(C.a)(Object(C.a)({},e),{},{posts:Object(He.a)(t.payload)});case O.notesDelete:return Object(C.a)(Object(C.a)({},e),{},{active:null,posts:e.posts.filter((function(e){return e.id!==t.payload}))});default:return e}}}),Qe=Object(Ge.e)(Ke,We(Object(Ge.a)(Ye.a))),Xe=function(){return r.a.createElement(d.a,{store:Qe},r.a.createElement(Be,null))};o.a.render(r.a.createElement(Xe,null),document.getElementById("root"))}},[[159,1,2]]]);
//# sourceMappingURL=main.173aa5b6.chunk.js.map